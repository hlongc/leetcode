/*
 * @lc app=leetcode.cn id=342 lang=typescript
 *
 * [342] 4的幂
 */

// @lc code=start
/**
 * 判断一个数是否为4的幂
 * @param n 需要判断的整数
 * @return 如果n是4的幂，返回true；否则返回false
 */
function isPowerOfFour(n: number): boolean {
  // 判断条件由三部分组成：
  // 1. n > 0：4的幂必须是正数
  // 2. (n & (n - 1)) === 0：判断n是否为2的幂
  //    对于2的幂，其二进制表示中只有一位是1，其余都是0
  //    例如：4(100), 8(1000), 16(10000)
  //    n-1会把最右边的1变成0，其右侧都变成1
  //    例如：4-1=3(011), 8-1=7(111), 16-1=15(1111)
  //    n & (n-1)的结果为0意味着n中只有一个1，即n是2的幂
  // 3. n % 3 === 1：区分2的幂和4的幂
  //    所有4的幂对3取模都等于1：
  //    4^0 = 1, 1 % 3 = 1
  //    4^1 = 4, 4 % 3 = 1
  //    4^2 = 16, 16 % 3 = 1
  //    4^3 = 64, 64 % 3 = 1
  //    而2的幂中，不是4的幂的数（如2,8,32...）对3取模等于2
  //    2 % 3 = 2
  //    8 % 3 = 2
  //    32 % 3 = 2
  return n > 0 && (n & (n - 1)) === 0 && n % 3 === 1;
}
// @lc code=end
