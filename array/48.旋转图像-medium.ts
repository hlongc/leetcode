/*
 * @lc app=leetcode.cn id=48 lang=typescript
 *
 * [48] æ—‹è½¬å›¾åƒ
 *
 * https://leetcode.cn/problems/rotate-image/description/
 *
 * algorithms
 * Medium (78.97%)
 * Likes:    2129
 * Dislikes: 0
 * Total Accepted:    842.2K
 * Total Submissions: 1.1M
 * Testcase Example:  '[[1,2,3],[4,5,6],[7,8,9]]'
 *
 * ç»™å®šä¸€ä¸ª nÂ Ã—Â n çš„äºŒç»´çŸ©é˜µÂ matrix è¡¨ç¤ºä¸€ä¸ªå›¾åƒã€‚è¯·ä½ å°†å›¾åƒé¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦ã€‚
 *
 * ä½ å¿…é¡»åœ¨ åŸåœ° æ—‹è½¬å›¾åƒï¼Œè¿™æ„å‘³ç€ä½ éœ€è¦ç›´æ¥ä¿®æ”¹è¾“å…¥çš„äºŒç»´çŸ©é˜µã€‚è¯·ä¸è¦ ä½¿ç”¨å¦ä¸€ä¸ªçŸ©é˜µæ¥æ—‹è½¬å›¾åƒã€‚
 *
 *
 *
 * ç¤ºä¾‹ 1ï¼š
 *
 *
 * è¾“å…¥ï¼šmatrix = [[1,2,3],[4,5,6],[7,8,9]]
 * è¾“å‡ºï¼š[[7,4,1],[8,5,2],[9,6,3]]
 *
 *
 * ç¤ºä¾‹ 2ï¼š
 *
 *
 * è¾“å…¥ï¼šmatrix = [[5,1,9,11],[2,4,8,10],[13,3,6,7],[15,14,12,16]]
 * è¾“å‡ºï¼š[[15,13,2,5],[14,3,4,1],[12,6,8,9],[16,7,10,11]]
 *
 *
 *
 *
 * æç¤ºï¼š
 *
 *
 * n == matrix.length == matrix[i].length
 * 1 <= n <= 20
 * -1000 <= matrix[i][j] <= 1000
 *
 *
 *
 *
 */

// @lc code=start
/**
 Do not return anything, modify matrix in-place instead.
 */
function rotate(matrix: number[][]): void {
  const n = matrix.length;

  // æ–¹æ³•1ï¼šå…ˆè½¬ç½®ï¼Œå†æ°´å¹³ç¿»è½¬
  // è¿™æ˜¯æœ€ç›´è§‚çš„æ–¹æ³•ï¼Œå®¹æ˜“ç†è§£å’Œå®ç°

  // ç¬¬ä¸€æ­¥ï¼šè½¬ç½®çŸ©é˜µï¼ˆæ²¿ä¸»å¯¹è§’çº¿ç¿»è½¬ï¼‰
  // å°† matrix[i][j] ä¸ matrix[j][i] äº¤æ¢
  for (let i = 0; i < n; i++) {
    for (let j = i; j < n; j++) {
      // åªéå†ä¸Šä¸‰è§’ï¼Œé¿å…é‡å¤äº¤æ¢
      [matrix[i][j], matrix[j][i]] = [matrix[j][i], matrix[i][j]];
    }
  }

  // ç¬¬äºŒæ­¥ï¼šæ°´å¹³ç¿»è½¬ï¼ˆå·¦å³ç¿»è½¬ï¼‰
  // å°†æ¯è¡Œçš„å…ƒç´ å·¦å³å¯¹ç§°äº¤æ¢
  for (let i = 0; i < n; i++) {
    for (let j = 0; j < Math.floor(n / 2); j++) {
      // åªéå†å·¦åŠéƒ¨åˆ†ï¼Œé¿å…é‡å¤äº¤æ¢
      [matrix[i][j], matrix[i][n - 1 - j]] = [
        matrix[i][n - 1 - j],
        matrix[i][j],
      ];
    }
  }
}

/*
ğŸ¯ æ ¸å¿ƒæ€æƒ³ï¼šå…ˆè½¬ç½®ï¼Œå†æ°´å¹³ç¿»è½¬
- é¡ºæ—¶é’ˆæ—‹è½¬90åº¦ = è½¬ç½® + æ°´å¹³ç¿»è½¬
- è¿™æ˜¯æœ€ç›´è§‚å’Œå®¹æ˜“ç†è§£çš„æ–¹æ³•

ğŸ“Š è¯¦ç»†ä¾‹å­ï¼šmatrix = [[1,2,3],[4,5,6],[7,8,9]]

åŸå§‹çŸ©é˜µï¼š
1 2 3
4 5 6  
7 8 9

ç¬¬ä¸€æ­¥ï¼šè½¬ç½®ï¼ˆæ²¿ä¸»å¯¹è§’çº¿ç¿»è½¬ï¼‰
äº¤æ¢ matrix[i][j] ä¸ matrix[j][i]

i=0: j=0,1,2
- (0,0): 1â†”1 (ä¸å˜)
- (0,1): 2â†”4 â†’ [1,4,3][2,5,6][7,8,9]
- (0,2): 3â†”7 â†’ [1,4,7][2,5,6][3,8,9]

i=1: j=1,2  
- (1,1): 5â†”5 (ä¸å˜)
- (1,2): 6â†”8 â†’ [1,4,7][2,5,8][3,6,9]

i=2: j=2
- (2,2): 9â†”9 (ä¸å˜)

è½¬ç½®åï¼š
1 4 7
2 5 8
3 6 9

ç¬¬äºŒæ­¥ï¼šæ°´å¹³ç¿»è½¬ï¼ˆå·¦å³ç¿»è½¬ï¼‰
äº¤æ¢æ¯è¡Œçš„å·¦å³å¯¹ç§°å…ƒç´ 

ç¬¬0è¡Œï¼š[1,4,7] â†’ [7,4,1]
ç¬¬1è¡Œï¼š[2,5,8] â†’ [8,5,2]  
ç¬¬2è¡Œï¼š[3,6,9] â†’ [9,6,3]

æœ€ç»ˆç»“æœï¼š
7 4 1
8 5 2
9 6 3

ğŸ”‘ å…³é”®ç†è§£ï¼š

1. ä¸ºä»€ä¹ˆè½¬ç½®+ç¿»è½¬=æ—‹è½¬90åº¦ï¼Ÿ
   - è½¬ç½®ï¼šå°†è¡Œå˜æˆåˆ—
   - æ°´å¹³ç¿»è½¬ï¼šå°†åˆ—çš„é¡ºåºåè½¬
   - ç»„åˆæ•ˆæœï¼šé¡ºæ—¶é’ˆæ—‹è½¬90åº¦

2. ä¸ºä»€ä¹ˆåªéå†ä¸Šä¸‰è§’ï¼Ÿ
   - è½¬ç½®æ—¶ï¼Œmatrix[i][j] å’Œ matrix[j][i] æ˜¯å¯¹ç§°çš„
   - å¦‚æœéå†å…¨éƒ¨ï¼Œä¼šäº¤æ¢ä¸¤æ¬¡ï¼Œç»“æœä¸å˜
   - åªéå†ä¸Šä¸‰è§’é¿å…é‡å¤äº¤æ¢

3. ä¸ºä»€ä¹ˆåªéå†å·¦åŠéƒ¨åˆ†ï¼Ÿ
   - æ°´å¹³ç¿»è½¬æ—¶ï¼Œmatrix[i][j] å’Œ matrix[i][n-1-j] æ˜¯å¯¹ç§°çš„
   - éå†å…¨éƒ¨ä¼šäº¤æ¢ä¸¤æ¬¡ï¼Œç»“æœä¸å˜
   - åªéå†å·¦åŠéƒ¨åˆ†é¿å…é‡å¤äº¤æ¢

ğŸ“ˆ å¦ä¸€ä¸ªä¾‹å­ï¼š4x4çŸ©é˜µ
åŸå§‹ï¼š[[5,1,9,11],[2,4,8,10],[13,3,6,7],[15,14,12,16]]

è½¬ç½®åï¼š
5  2  13 15
1  4  3  14
9  8  6  12
11 10 7  16

æ°´å¹³ç¿»è½¬åï¼š
15 13 2  5
14 3  4  1
12 6  8  9
16 7  10 11

âš¡ å¤æ‚åº¦åˆ†æï¼š
æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²) - éœ€è¦è®¿é—®æ¯ä¸ªå…ƒç´ 
ç©ºé—´å¤æ‚åº¦ï¼šO(1) - åŸåœ°æ“ä½œï¼Œåªç”¨äº†å¸¸æ•°é¢å¤–ç©ºé—´

ğŸ”„ æ›¿ä»£æ–¹æ³•ï¼šå››å…ƒç´ æ—‹è½¬
ä¹Ÿå¯ä»¥ç›´æ¥è¿›è¡Œå››å…ƒç´ å¾ªç¯äº¤æ¢ï¼Œä½†ç†è§£èµ·æ¥æ›´å¤æ‚ï¼š
- å¯¹äºä½ç½®(i,j)ï¼Œé¡ºæ—¶é’ˆ90åº¦ååˆ°è¾¾(j, n-1-i)
- éœ€è¦æ‰¾åˆ°å››ä¸ªä½ç½®çš„å¾ªç¯å…³ç³»è¿›è¡Œäº¤æ¢
*/
// @lc code=end
