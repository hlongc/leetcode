/*
 * @lc app=leetcode.cn id=45 lang=typescript
 *
 * [45] è·³è·ƒæ¸¸æˆ II
 *
 * https://leetcode.cn/problems/jump-game-ii/description/
 *
 * algorithms
 * Medium (44.86%)
 * Likes:    2821
 * Dislikes: 0
 * Total Accepted:    978.5K
 * Total Submissions: 2.2M
 * Testcase Example:  '[2,3,1,1,4]'
 *
 * ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„ 0 ç´¢å¼•æ•´æ•°æ•°ç»„ numsã€‚åˆå§‹ä½ç½®ä¸º nums[0]ã€‚
 *
 * æ¯ä¸ªå…ƒç´  nums[i] è¡¨ç¤ºä»ç´¢å¼• i å‘åè·³è½¬çš„æœ€å¤§é•¿åº¦ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ åœ¨ nums[i] å¤„ï¼Œä½ å¯ä»¥è·³è½¬åˆ°ä»»æ„ nums[i + j]
 * å¤„:
 *
 *
 * 0 <= j <= nums[i]
 * i + j < n
 *
 *
 * è¿”å›åˆ°è¾¾Â nums[n - 1] çš„æœ€å°è·³è·ƒæ¬¡æ•°ã€‚ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹å¯ä»¥åˆ°è¾¾ nums[n - 1]ã€‚
 *
 *
 *
 * ç¤ºä¾‹ 1:
 *
 *
 * è¾“å…¥: nums = [2,3,1,1,4]
 * è¾“å‡º: 2
 * è§£é‡Š: è·³åˆ°æœ€åä¸€ä¸ªä½ç½®çš„æœ€å°è·³è·ƒæ•°æ˜¯ 2ã€‚
 * ä»ä¸‹æ ‡ä¸º 0 è·³åˆ°ä¸‹æ ‡ä¸º 1 çš„ä½ç½®ï¼Œè·³Â 1Â æ­¥ï¼Œç„¶åè·³Â 3Â æ­¥åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚
 *
 *
 * ç¤ºä¾‹ 2:
 *
 *
 * è¾“å…¥: nums = [2,3,0,1,4]
 * è¾“å‡º: 2
 *
 *
 *
 *
 * æç¤º:
 *
 *
 * 1 <= nums.length <= 10^4
 * 0 <= nums[i] <= 1000
 * é¢˜ç›®ä¿è¯å¯ä»¥åˆ°è¾¾Â nums[n-1]
 *
 *
 */

// @lc code=start
function jump(nums: number[]): number {
  const n = nums.length;
  if (n <= 1) return 0; // åªæœ‰ä¸€ä¸ªå…ƒç´ æˆ–ç©ºæ•°ç»„ï¼Œä¸éœ€è¦è·³è·ƒ

  let jumps = 0; // è·³è·ƒæ¬¡æ•°
  let currentEnd = 0; // å½“å‰è·³è·ƒèƒ½åˆ°è¾¾çš„æœ€è¿œä½ç½®
  let farthest = 0; // æ‰€æœ‰ä½ç½®èƒ½åˆ°è¾¾çš„æœ€è¿œä½ç½®

  // éå†æ•°ç»„ï¼Œä½†ä¸åŒ…æ‹¬æœ€åä¸€ä¸ªä½ç½®
  // å› ä¸ºåˆ°è¾¾æœ€åä¸€ä¸ªä½ç½®å°±ä¸éœ€è¦å†è·³äº†
  for (let i = 0; i < n - 1; i++) {
    // æ›´æ–°èƒ½åˆ°è¾¾çš„æœ€è¿œä½ç½®
    farthest = Math.max(farthest, i + nums[i]);

    // å¦‚æœåˆ°è¾¾äº†å½“å‰è·³è·ƒçš„è¾¹ç•Œ
    if (i === currentEnd) {
      jumps++; // éœ€è¦å†è·³ä¸€æ¬¡
      currentEnd = farthest; // æ›´æ–°ä¸‹ä¸€æ¬¡è·³è·ƒçš„è¾¹ç•Œ
    }
  }

  return jumps;
}

/*
ğŸ¯ æ ¸å¿ƒæ€æƒ³ï¼šè´ªå¿ƒç®—æ³•
- æ¯æ¬¡è·³è·ƒéƒ½é€‰æ‹©èƒ½åˆ°è¾¾æœ€è¿œä½ç½®çš„ç‚¹
- ç»´æŠ¤å½“å‰è·³è·ƒçš„è¾¹ç•Œå’Œå…¨å±€æœ€è¿œä½ç½®
- å½“åˆ°è¾¾è¾¹ç•Œæ—¶ï¼Œå¿…é¡»è¿›è¡Œä¸€æ¬¡è·³è·ƒ

ğŸ“Š è¯¦ç»†ä¾‹å­ï¼šnums = [2,3,1,1,4]

å¯è§†åŒ–ï¼š
ç´¢å¼•:  0  1  2  3  4
æ•°ç»„: [2, 3, 1, 1, 4]
è·³è·ƒ: 0â†’1â†’4 (2æ¬¡è·³è·ƒ)

æ‰§è¡Œè¿‡ç¨‹ï¼š
åˆå§‹ï¼šjumps=0, currentEnd=0, farthest=0

i=0: nums[0]=2
- farthest = max(0, 0+2) = 2
- i == currentEnd (0)ï¼Œéœ€è¦è·³è·ƒ
- jumps = 1, currentEnd = 2
- çŠ¶æ€ï¼šjumps=1, currentEnd=2, farthest=2

i=1: nums[1]=3  
- farthest = max(2, 1+3) = 4
- i != currentEnd (1 != 2)ï¼Œç»§ç»­
- çŠ¶æ€ï¼šjumps=1, currentEnd=2, farthest=4

i=2: nums[2]=1
- farthest = max(4, 2+1) = 4  
- i == currentEnd (2)ï¼Œéœ€è¦è·³è·ƒ
- jumps = 2, currentEnd = 4
- çŠ¶æ€ï¼šjumps=2, currentEnd=4, farthest=4

i=3: nums[3]=1
- farthest = max(4, 3+1) = 4
- i != currentEnd (3 != 4)ï¼Œç»§ç»­
- çŠ¶æ€ï¼šjumps=2, currentEnd=4, farthest=4

å¾ªç¯ç»“æŸï¼Œè¿”å›jumps=2

ğŸ”‘ å…³é”®ç†è§£ï¼š

1. ä¸ºä»€ä¹ˆè´ªå¿ƒç­–ç•¥æ­£ç¡®ï¼Ÿ
   - å‡è®¾æœ€ä¼˜è§£åœ¨ç¬¬iæ­¥è·³åˆ°äº†ä½ç½®j
   - å¦‚æœæˆ‘ä»¬åœ¨ç¬¬iæ­¥è·³åˆ°æ›´è¿œçš„ä½ç½®kï¼ˆk>jï¼‰
   - é‚£ä¹ˆä»kå‡ºå‘è‚¯å®šæ¯”ä»jå‡ºå‘æ›´å¥½
   - æ‰€ä»¥æ¯æ¬¡é€‰æ‹©èƒ½åˆ°è¾¾æœ€è¿œçš„ä½ç½®æ˜¯æœ€ä¼˜çš„

2. currentEndçš„ä½œç”¨ï¼Ÿ
   - è¡¨ç¤ºå½“å‰è·³è·ƒèƒ½è¦†ç›–çš„èŒƒå›´è¾¹ç•Œ
   - å½“iåˆ°è¾¾currentEndæ—¶ï¼Œå¿…é¡»è¿›è¡Œä¸€æ¬¡è·³è·ƒ
   - å› ä¸ºä¸è·³å°±æ— æ³•ç»§ç»­å‰è¿›

3. farthestçš„ä½œç”¨ï¼Ÿ
   - è®°å½•ä»å½“å‰ä½ç½®èƒ½åˆ°è¾¾çš„æœ€è¿œä½ç½®
   - ç”¨äºæ›´æ–°ä¸‹ä¸€æ¬¡è·³è·ƒçš„è¾¹ç•Œ

ğŸ“ˆ å¦ä¸€ä¸ªä¾‹å­ï¼šnums = [2,3,0,1,4]

ç´¢å¼•:  0  1  2  3  4
æ•°ç»„: [2, 3, 0, 1, 4]
è·³è·ƒ: 0â†’1â†’4 (2æ¬¡è·³è·ƒ)

i=0: farthest=2, i==currentEnd(0) â†’ jumps=1, currentEnd=2
i=1: farthest=4, i!=currentEnd(1) â†’ ç»§ç»­
i=2: farthest=4, i==currentEnd(2) â†’ jumps=2, currentEnd=4
i=3: farthest=4, i!=currentEnd(3) â†’ ç»§ç»­

æ—¶é—´å¤æ‚åº¦ï¼šO(n) - æ¯ä¸ªä½ç½®è®¿é—®ä¸€æ¬¡
ç©ºé—´å¤æ‚åº¦ï¼šO(1) - åªç”¨äº†å‡ ä¸ªå˜é‡
*/
// @lc code=end
