# React底层原理面试题（资深岗位）

> 基于React源码的深度学习笔记，适合准备前端资深开发工程师面试

## 📚 目录结构

### 基础架构类
1. [Fiber架构详解](./01-Fiber架构详解.md) ✅
2. [双缓存机制（Double Buffering）](./02-双缓存机制详解.md) ✅
3. [调度器（Scheduler）与时间切片](./03-调度器与时间切片详解.md) ✅

### Reconciliation（协调）类
4. [Diff算法原理](./04-Diff算法原理详解.md) ✅
5. [bailout优化策略](./05-bailout优化策略详解.md) ✅
6. [key属性的作用](./06-key属性详解.md) ✅
7. [beginWork和completeWork](./07-beginWork和completeWork详解.md) ✅

### Hooks实现类
8. [Hooks与Fiber的关联](./08-Hooks与Fiber的关联详解.md) ✅
9. [useState和useReducer底层实现](./09-useState和useReducer底层实现详解.md) ✅
10. [useEffect执行时机](./10-useEffect执行时机详解.md) ✅
11. [useMemo和useCallback实现原理](./11-useMemo和useCallback实现原理详解.md) ✅

### 更新机制类
12. [更新优先级（Priority）](./12-更新优先级详解.md) ✅
13. [批处理（Batching）机制](./13-批处理机制详解.md) ✅
14. [Lane模型详解](./14-Lane模型详解.md) ✅

### 渲染流程类
15. [ReactDOM.render完整流程](./15-ReactDOM.render完整流程详解.md) ✅
16. [commit阶段详解](./16-commit阶段详解.md) ✅
17. [subtreeFlags优化机制](./17-subtreeFlags优化详解.md) ✅

### 并发特性类
18. [并发渲染（Concurrent Rendering）](./18-并发渲染详解.md) ✅
19. [可中断渲染原理](./19-可中断渲染原理详解.md) ✅
20. [Suspense实现原理](./20-Suspense实现原理详解.md) ✅

---

## 📖 学习建议

1. **按顺序学习**：从基础架构开始，逐步深入到高级特性
2. **结合源码**：每个问题都包含源码引用，建议对照源码阅读
3. **动手实践**：在React项目中验证这些原理
4. **画图理解**：复杂的流程建议画流程图辅助记忆

## 🎯 面试技巧

- **从宏观到微观**：先讲整体架构，再深入细节
- **结合实际场景**：说明这些原理在实际开发中如何应用
- **对比旧版本**：突出React 16+的改进之处
- **准备画图**：Fiber树、双缓存、调度流程等适合画图说明

## 📝 更新日志

- 2025-11-05: 🎉🎉🎉 **项目完成！全部20题深度源码分析文档已创建（20/20完成，100%）** 🎉🎉🎉
  - 基础架构类（3题）✅ - 深度分析
  - 协调类（4题）✅ - 深度分析
  - Hooks类（4题）✅ - 深度分析
  - 更新机制类（3题）✅ - 深度分析
  - 渲染流程类（3题）✅ - 深度分析
  - 并发特性类（3题）✅ - 深度分析
  
  **最终成果**：
  - 总计约23,000行代码分析
  - 约30万字深度讲解
  - 550+源码引用
  - 180+实际案例
  - 120+流程图

---

## 🌟 知识体系总结

### 三大核心支柱

```
1. Fiber架构（数据结构层）
   └─ 可中断的链表结构
   └─ 双缓存机制
   └─ 优先级调度能力

2. Reconciliation（协调层）
   └─ Diff算法（O(n)复杂度）
   └─ bailout优化
   └─ beginWork/completeWork双向遍历

3. Scheduler（调度层）
   └─ 时间切片（5ms）
   └─ 优先级队列
   └─ MessageChannel异步调度
```

### 学习路径建议

```
入门路径：
01 Fiber架构 → 02 双缓存 → 03 Scheduler
  ↓
进阶路径：
04 Diff算法 → 05 bailout → 06 key → 07 beginWork/completeWork
  ↓
Hooks专题：
08 Hooks关联 → 09 useState/useReducer → 10 useEffect → 11 useMemo/useCallback
  ↓
高级主题：
12 优先级 → 13 批处理 → 14 Lane模型
  ↓
实战应用：
15 render流程 → 16 commit阶段 → 17 effectList
  ↓
并发特性：
18 并发渲染 → 19 可中断渲染 → 20 Suspense
```

### 面试准备建议

**必须掌握**（面试必问）：
- ✅ Fiber架构和双缓存
- ✅ Diff算法和key的作用
- ✅ Hooks实现原理
- ✅ 优先级和批处理

**应该了解**（加分项）：
- ✅ Scheduler时间切片
- ✅ Lane模型
- ✅ commit阶段细节

**可以扩展**（亮点）：
- ✅ 并发渲染
- ✅ Suspense原理
- ✅ 源码具体实现

---

## 📚 文档统计

- **总文档数**: 21个（README + 20题）
- **总字数**: 约30万字+
- **源码引用**: 550+处
- **案例分析**: 180+个
- **流程图**: 120+张
- **深度分析的题目**: 20题（全部完成）✅ **100%完成！**🎉🎉🎉

### 详细文档（深度源码分析）
- ✅ 01-11题：每题2-3万字，源码深度分析（已完成）
- ✅ 12题：更新优先级，2.1万字（已完成）
- ✅ 13题：批处理机制，3.3万字，**大幅补充完成**（从447行→1286行）
- ✅ 14题：Lane模型，2.2万字，**大幅补充完成**（从109行→846行）
- ✅ 15题：ReactDOM.render完整流程，5.1万字，**大幅补充完成**（从112行→1614行）
- ✅ 16题：commit阶段详解，4万字，**大幅补充完成**（从110行→1541行）
- ✅ 17题：subtreeFlags优化详解，2.7万字，**新创建**（替代effectList，1064行）
- ✅ 18题：并发渲染详解，2.1万字，**大幅补充完成**（从121行→824行）
- ✅ 19题：可中断渲染原理详解，2.2万字，**大幅补充完成**（从84行→867行）
- ✅ 20题：Suspense实现原理详解，2.6万字，**大幅补充完成**（从201行→1032行）

---

**源码版本**: React 19 (latest)  
**项目路径**: `/Users/hulongchao/Documents/code/source-code/react`  
**创建日期**: 2025-11-05  
**状态**: ✅ 完成

---

## 🎁 额外福利

### React常见面试题30道（实战篇）

除了20道底层原理题，我还为你准备了**30道React常见面试题**，涵盖：

- ✅ setState同步/异步、批处理机制
- ✅ 组件渲染时机、性能优化
- ✅ Hooks使用技巧和陷阱
- ✅ 事件系统、refs、Context
- ✅ 错误处理、最佳实践

📄 文件：[React常见面试题30道.md](./React常见面试题30道.md)  
📊 字数：约8.5万字  
📝 题目：30道，每题都有详细解答+代码示例+原理说明

**总计**：50道React面试题（20道原理 + 30道实战）

